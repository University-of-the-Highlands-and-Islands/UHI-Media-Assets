function siteMessage(){$("body > .navigation--home-message p .close").click(function(){$("body > .navigation--home-message").slideUp(function(){$(this).remove()})})}function courseFilter(){$("#coursefilter .course-filter-title").on("click",function(e){e.preventDefault(),$(this).parent().toggleClass("open").find("ul").slideToggle("fast"),$(this).parent().hasClass("open")?$(".arrow",this).html("&#9660;"):$(".arrow",this).html("&#9668;")}),$("#coursefilter .course-filter-title").on("keypress",function(e){e.preventDefault();let t=e.which;(13===t||32===t)&&($(this).parent().toggleClass("open").find("ul").slideToggle("fast"),$(this).parent().hasClass("open")?$(".arrow",this).html("&#9660;"):$(".arrow",this).html("&#9668;"))})}function scrollingParallax(){}function handheldNav(){$('header[role="banner"] > .wrap .primarynav').prepend('<span id="bannernavtoggle">Menu <i>&darr;</i></span>'),$("#bannernavtoggle").click(function(){$(this).toggleClass("open"),$(this).hasClass("open")?($(this).html("Menu <i>&uarr;</i>"),$('header[role="banner"] > .wrap .primarynav > ul').removeClass("jshidden")):$(this).html("Menu <i>&darr;</i>"),$('header[role="banner"] > .wrap .primarynav > ul').slideToggle("fast",function(){$("#bannernavtoggle").hasClass("open")||$(this).addClass("jshidden")})})}function waypointsInit(){$(".map .pin").waypoint(function(e){var t=$(this.element);"down"===e&&(t.addClass("animated bounceInDown"),$("html").hasClass("no-cssanimations")&&t.animate({opacity:1}))},{offset:"90%"})}function hashlinks(){$('a[href^="#"]').on("click",function(e){e.preventDefault();var t=$(this).attr("href"),s="#"==t?0:$(t).offset().top,l=0==s?500:2*Math.abs(s-window.pageYOffset);"#tab"==t.substring(0,4)?s=$(this).closest("div.tabs").prev():s-=50,$.scrollTo(s,l,{easing:"easeInOutSine",axis:"y"}),history.pushState&&history.pushState(null,null,t)})}function hashinurl(){$(window).on("load",function(e){var t=window.location.hash,s="#"==t?0:$(t).offset().top,l=0==s?500:2*Math.abs(s-window.pageYOffset);"#tab"==t.substring(0,4)?s-=100:s-=50,$.scrollTo(s,l,{easing:"easeInOutSine",axis:"y"}),history.pushState&&history.pushState(null,null,t),e.preventDefault()})}function applyNow(){$(".no-js-apply").remove(),$(".toggleable").on("click",function(e){e.preventDefault();var t=$(this);t.hasClass("disabled")||(t.hasClass("toggled")?t.removeClass("toggled"):($(this).parent().find(".toggled").removeClass("toggled"),t.addClass("toggled")),$("#applystep1 .toggled").length?$("#applystep2").slideDown("fast"):$("#applystep2").slideUp("fast"),$("#applystep1 .toggled").length&&$("#applystep2 .toggled").length?($("#applystep3").slideDown("fast"),$("#applystep3 .button").removeClass("disabled")):($("#applystep3").slideUp("fast"),$("#applystep3 .button").addClass("disabled")),$("#applystep1 .toggled").length&&$("#applystep2 .toggled").length&&$("#applystep3 .toggled").length?($("#applystep4").slideUp("fast").slideDown("fast"),$("#applystep4 .button").removeClass("disabled")):($("#applystep4").slideUp("fast"),$("#applystep4 .button").addClass("disabled")))})}function callQR(){var e=document.URL,t="https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl="+(e=encodeURI(e));jQuery("#QR").attr("src",t)}function makeFlexContainerMulti(e){$(e).not(e+"+"+e).each(function(){$(this).nextUntil(":not("+e+")").addBack().wrapAll("<div class='content-type-modifier--flex-container'/>")})}function makeFlexContainer(){makeFlexContainerMulti(".content-type--one-web-highlight-content-box"),makeFlexContainerMulti(".content-type--one-web-media-object")}function uhicollapsibleSections(){var e,t=document.getElementsByClassName("content-type-modifier--collapsible__heading");for(e=0;e<t.length;e++)t[e].addEventListener("click",function(){this.classList.toggle("content-type-modifier--collapsible--open");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":(e.style.display="block",$("#content iframe[src^='https://stream.uhi.ac.uk']").parent().css("padding-top","56.25%"),$("#content iframe[src^='https://www.youtube.com']").parent().css("padding-top","56.25%"))}),t[e].addEventListener("keyup",function(){if(13===event.keyCode){this.classList.toggle("content-type-modifier--collapsible--open");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":(e.style.display="block",$("#content iframe[src^='https://stream.uhi.ac.uk']").parent().css("padding-top","56.25%"),$("#content iframe[src^='https://www.youtube.com']").parent().css("padding-top","56.25%"))}});t.length>1&&$('<div class="content-type-modifier--collapsible__menu"><a tabindex="0" onclick="uhiCollapseSection(true)" onkeyup="uhiCollapseSectionKey(true)" class="content-type-modifier--collapsible__label"><span class="content-type-modifier--collapsible__control">\xec</span> </a><a tabindex="0" onclick="uhiCollapseSection(false)" onkeyup="uhiCollapseSectionKey(false)" class="content-type-modifier--collapsible__label"><span class="content-type-modifier--collapsible__control">\xed</span> </a></div>').insertBefore($(t[0]).parent())}function uhiCollapseSection(e){var t,s=document.getElementsByClassName("content-type-modifier--collapsible__heading");for(t=0;t<s.length;t++)if(e){$(s[t]).hasClass("content-type-modifier--collapsible--open")||s[t].classList.toggle("content-type-modifier--collapsible--open");var l=s[t].nextElementSibling;l.style.display="block",$("#content iframe[src^='https://stream.uhi.ac.uk']").parent().css("padding-top","56.25%"),$("#content iframe[src^='https://www.youtube.com']").parent().css("padding-top","56.25%")}else{$(s[t]).hasClass("content-type-modifier--collapsible--open")&&s[t].classList.toggle("content-type-modifier--collapsible--open");var l=s[t].nextElementSibling;l.style.display="none"}}function uhiCollapseSectionKey(e){13===event.keyCode&&uhiCollapseSection(e)}function lastModified(e,t){if(""!=e&&(t.host.includes("t4help")||t.href.includes("uhi.ac.uk/en/foi/"))){var s=new Date(e),l=new Date().setDate(new Date().getDate()-60),a='<div class="meta--last-updated">This page was last updated <time datetime='+$.datepicker.formatDate("yy-mm-dd+00:00",new Date(s))+">"+$.datepicker.formatDate("d MM yy",new Date(s))+"</time></div>";s>=l?document.write(a):document.write("<!--"+a+"-->")}}function closeButton(){document.getElementById("topmessage").style.display="none"}function showGlass(){document.getElementById("navList").classList.add("hide"),document.getElementById("fullGlass").classList.add("show-iflex"),document.body.classList.add("scroll-lock"),document.getElementById("greyOut").style.display="block",document.querySelector("#fullGlass #funnelbackQuery").focus()}function hideGlass(){document.getElementById("navList").classList.remove("hide"),document.getElementById("fullGlass").classList.remove("show-iflex"),document.body.classList.remove("scroll-lock"),document.getElementById("greyOut").style.display="none"}function burgerBars(e){e.classList.toggle("change"),document.body.classList.toggle("scroll-lock"),document.getElementById("burgerMenu").classList.toggle("show"),document.getElementById("barsSearch").classList.toggle("hide")}function stickyNav(){var e=document.querySelector(".sticker"),t=document.querySelector(".nav.primary"),s=e.offsetTop,l=document.getElementById("scrollUp");window.pageYOffset>s?(e.classList.add("sticky"),t.classList.add("sticky"),null!==l&&l.classList.add("showScroll")):(e.classList.remove("sticky"),t.classList.remove("sticky"),null!==l&&l.classList.remove("showScroll"))}$(function(){$(".section.intro .video, .section.tour .video, .content-type--one-web-video-embed, .content-type--landing-page-text__video, .videowrapper").fitVids({customSelector:"iframe[src^='https://stream.uhi.ac.uk']"}),$(".lt-ie9 .header.banner .logo a").html('<img src="/img/logo.gif" alt="University of the Highlands and Islands"/>'),handheldNav(),siteMessage(),courseFilter(),applyNow(),warningCookieRead(),makeFlexContainer(),campaignCookieRead(),document.getElementsByClassName("content-type-modifier--collapsible__heading")[0]&&uhicollapsibleSections()}),window.location.href.indexOf("#")>-1&&hashinurl(),$(document).ready(function(){var e=$(document.getElementsByName("SearchableText")[0]).closest("form");$(e).submit(function(e){""==document.getElementsByName("SearchableText")[0].value.trim()&&e.preventDefault()})});
